<div class="min-h-screen bg-gray-50 flex items-center justify-center">
  <div class="bg-white p-8 rounded-2xl shadow-lg w-96">
    <h1 class="text-2xl font-bold text-center mb-6">Phone Verification</h1>

    <!-- Phone Input Form -->
    <div *ngIf="!showOtpModal" class="space-y-4">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">
          Phone Number
        </label>
        <div class="flex">
          <select
            [(ngModel)]="selectedCountryCode"
            class="border border-gray-300 rounded-l-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
          >
            <option value="+254">ğŸ‡°ğŸ‡ª +254</option>
            <option value="+1">ğŸ‡ºğŸ‡¸ +1</option>
            <option value="+44">ğŸ‡¬ğŸ‡§ +44</option>
            <option value="+91">ğŸ‡®ğŸ‡³ +91</option>
          </select>
          <input
            type="tel"
            [(ngModel)]="phoneNumber"
            placeholder="712345678"
            class="flex-1 border border-l-0 border-gray-300 rounded-r-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
          />
        </div>
      </div>

      <button
        (click)="sendOtp()"
        [disabled]="!phoneNumber || isLoading"
        class="w-full bg-blue-500 text-white py-3 rounded-lg font-medium hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed"
      >
        <span *ngIf="!isLoading">Send OTP</span>
        <span *ngIf="isLoading">Sending...</span>
      </button>

      <div *ngIf="errorMessage" class="p-3 bg-red-50 border border-red-200 rounded-lg">
        <p class="text-red-600 text-sm">{{ errorMessage }}</p>
      </div>
    </div>
  </div>
</div>

<!-- OTP Modal -->
<app-otp-modal
  [isVisible]="showOtpModal"
  [phoneNumber]="fullPhoneNumber"
  (close)="onModalClose()"
  (verify)="onOtpVerify($event)"
  (resend)="onOtpResend()"
  #otpModal
></app-otp-modal>
