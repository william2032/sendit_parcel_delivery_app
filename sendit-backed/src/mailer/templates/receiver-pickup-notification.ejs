<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Package Ready for Pickup</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8fafc;
            color: #2d3748;
            line-height: 1.6;
        }
        .container {
            background-color: #ffffff;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border-top: 4px solid #ef4444;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .ready-icon {
            width: 64px;
            height: 64px;
            background-color: #ef4444;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        .ready-icon::after {
            content: 'üîî';
            font-size: 28px;
        }
        h1 {
            color: #1a202c;
            margin: 0;
            font-size: 28px;
            font-weight: 600;
        }
        .urgent-badge {
            background-color: #fee2e2;
            color: #dc2626;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin: 15px 0;
            display: inline-block;
        }
        .tracking-number {
            background-color: #fef2f2;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #ef4444;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            font-size: 16px;
        }
        .pickup-details {
            background-color: #fef2f2;
            padding: 25px;
            border-radius: 8px;
            margin: 20px 0;
            border: 1px solid #fecaca;
        }
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e2e8f0;
        }
        .detail-row:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        .detail-label {
            font-weight: 600;
            color: #4a5568;
            min-width: 140px;
        }
        .detail-value {
            color: #2d3748;
            text-align: right;
            max-width: 60%;
        }
        .location-highlight {
            background-color: #dcfce7;
            color: #166534;
            padding: 8px 12px;
            border-radius: 6px;
            font-weight: 600;
        }
        .driver-info {
            background-color: #f0f9ff;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #3b82f6;
        }
        .driver-info h3 {
            margin-top: 0;
            color: #1e40af;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .contact-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        .contact-btn {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 8px 16px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        .call-btn {
            background-color: #10b981;
            color: white;
        }
        .call-btn:hover {
            background-color: #059669;
        }
        .instructions-box {
            background-color: #fffbeb;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #f59e0b;
            margin: 25px 0;
        }
        .instructions-box h3 {
            margin-top: 0;
            color: #92400e;
        }
        .countdown-timer {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            margin: 20px 0;
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
        }
        .countdown-timer h3 {
            margin: 0 0 10px 0;
            font-size: 18px;
        }
        .timer-display {
            font-size: 24px;
            font-weight: bold;
            font-family: 'Courier New', monospace;
        }
        .button {
            display: inline-block;
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: #ffffff;
            padding: 16px 32px;
            text-decoration: none;
            border-radius: 8px;
            margin: 25px 0;
            font-weight: 600;
            text-align: center;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(239, 68, 68, 0.3);
            font-size: 16px;
        }
        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
        }
        .footer {
            font-size: 14px;
            color: #718096;
            margin-top: 40px;
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #e2e8f0;
        }
        .support-info {
            background-color: #f0f9ff;
            padding: 15px;
            border-radius: 8px;
            margin-top: 25px;
            border-left: 4px solid #3182ce;
        }
        @media (max-width: 480px) {
            body { padding: 10px; }
            .container { padding: 25px; }
            .detail-row { flex-direction: column; }
            .detail-value { text-align: left; margin-top: 5px; }
            .detail-label { min-width: auto; }
            .contact-buttons { flex-direction: column; }
        }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <div class="ready-icon"></div>
        <h1>Package Ready for Pickup!</h1>
        <div class="urgent-badge">‚ö° Action Required</div>
    </div>

    <p>Hi <%= name %>,</p>

    <p>Your package has arrived at the pickup location and is ready for collection! Please arrange to pick it up as soon as possible. üì¶‚ú®</p>

    <div class="tracking-number">
        Tracking Number: <%= trackingNumber %>
    </div>

    <div class="pickup-details">
        <div class="detail-row">
            <span class="detail-label">Pickup Location:</span>
            <span class="detail-value"><span class="location-highlight">üìç <%= pickupLocation %></span></span>
        </div>
        <div class="detail-row">
            <span class="detail-label">Arrival Time:</span>
            <span class="detail-value"><%= arrivalTime %></span>
        </div>
        <div class="detail-row">
            <span class="detail-label">Status:</span>
            <span class="detail-value" style="color: #ef4444; font-weight: 600;">üîî Ready for Pickup</span>
        </div>
    </div>

    <% if (driverName && driverPhone) { %>
        <div class="driver-info">
            <h3>üöö Driver Information</h3>
            <p><strong>Driver:</strong> <%= driverName %></p>
            <div class="contact-buttons">
                <a href="tel:<%= driverPhone %>" class="contact-btn call-btn">üìû Call Driver</a>
            </div>
        </div>
    <% } %>

    <div class="countdown-timer">
        <h3>‚è∞ Please Pick Up Soon</h3>
        <div class="timer-display">Waiting for Collection</div>
    </div>

    <% if (pickupInstructions) { %>
        <div class="instructions-box">
            <h3>üìã Pickup Instructions</h3>
            <p><%= pickupInstructions %></p>
        </div>
    <% } %>

    <div style="text-align: center;">
        <a href="<%= trackingUrl %>" class="button">View Tracking Details</a>
    </div>

    <p><strong>Important:</strong> Please bring a valid ID for package collection. Your parcel is at the specified location.</p>

    <div class="support-info">
        <strong>Need Assistance?</strong><br>
        Contact our support team immediately at <a href="mailto:<%= supportEmail %>" style="color: #3182ce;"><%= supportEmail %></a> if you cannot collect the package.
    </div>
</div>

<div class="footer">
    &copy; <%= new Date().getFullYear() %> <%= appName %>. All rights reserved.<br>
    This email was sent regarding tracking number <%= trackingNumber %>
</div>
</body>
</html>